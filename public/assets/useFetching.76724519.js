import{A as d}from"./axios.0e4a87d2.js";import{u as h}from"./index.8b0bd0aa.js";import{r as t}from"./@vue.6acdfb34.js";function y({callback:f,alert:r=!0,errorMessage:n,successMessage:v}){const a=h(),s=t(""),o=t(""),u=t(!1),c=t(null);async function m(...A){var l,i;try{u.value=!0;const e=await f(...A);c.value=e==null?void 0:e.data,o.value=v||"Success",r&&a.setAlert("success",o.value)}catch(e){n?s.value=n:e instanceof d?s.value=(i=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:i.message:e instanceof Error?s.value=e.message:s.value="Unknown Error",r&&a.setAlert("error",s.value)}finally{u.value=!1,r&&a.showAlert(!0)}}return{error:s,success:o,isLoading:u,data:c,fetchFunc:m}}export{y as u};
