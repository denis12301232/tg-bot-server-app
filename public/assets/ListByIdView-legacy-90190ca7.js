System.register(["./index-legacy-39c22bb2.js","./useForm-legacy-520eec2b.js","./useFetching-legacy-78eb828d.js","./useNavigation-legacy-1fb35f40.js","./AssistanceService-legacy-613f2070.js","./AssistanseFormDto-legacy-9ef98e11.js","./TheError-legacy-8cb894ec.js","./TableAssistance-legacy-850713c2.js"],(function(e,t){"use strict";var a,n,s,i,c,o,l,u,d,r,b,m,f,g,y,v,h,p,k,j,x,_,F,w,C,q,A,E,L,S,T,B=document.createElement("style");return B.textContent=".home_button[data-v-83bb886e]{margin:10px 0 0 10px}.container[data-v-83bb886e]{width:95%;margin:0 auto}.loader[data-v-83bb886e]{display:flex;justify-content:center;align-items:center;height:100%}.title[data-v-83bb886e]{text-align:center;padding:10px 0}.info[data-v-83bb886e]{width:50%;margin:0 auto;padding-bottom:10px}.info .buttons[data-v-83bb886e]{display:flex;justify-content:space-between;align-items:center}.info .buttons .button[data-v-83bb886e]:hover{transform:scale(1.1)}@media (max-width: 768px){.info[data-v-83bb886e]{width:100%}}\n",document.head.appendChild(B),{setters:[e=>{a=e.d,n=e.u,s=e.m,i=e.j,c=e.E,o=e.l,l=e.C,u=e.b,d=e.n,r=e.c,b=e.e,m=e.w,f=e.g,g=e.F,y=e.K,v=e.r,h=e.q,p=e.s,k=e.t,j=e.o,x=e.h,_=e.p,F=e._},e=>{w=e.u},e=>{C=e.u},e=>{q=e.u},e=>{A=e.A},e=>{E=e.F,L=e.A},e=>{S=e.default},e=>{T=e.T}],execute:function(){const t=e=>(h("data-v-83bb886e"),e=e(),p(),e),B={key:1,class:"loader"},I={class:"container"},O=t((()=>f("h1",{class:"title"},"Информация о заявке",-1))),N={class:"info"},D={class:"buttons"},K=t((()=>f("span",null,null,-1)));e("default",F(a({__name:"ListByIdView",setup(e){const t=n(),a=k(),h=y(),{goBack:p}=q(),F=s((()=>h.params.id)),M=w(l.assistance),V=i("true"===h.query.edit),{fetchFunc:W,isLoading:z,data:G}=C({callback:async()=>A.getFormById(F.value),alert:!1}),{fetchFunc:H,isLoading:J}=C({callback:async function(){const e=new L(M);await A.modifyAssistanceForm(e,F.value),await W(),R()},successMessage:"Обновлено"}),P={};function Q(){Object.keys(l.assistance).forEach((e=>{M[e].value="phone"===e?G.value[e].slice(4):G.value[e]}))}function R(){a.push({query:{edit:"true"}})}function U(){a.push({query:{edit:"false"}})}return c((()=>{W().then((()=>{"true"===h.query.edit&&Q()}))})),o(h,(()=>{"true"===h.query.edit?V.value=!0:V.value=!1,"true"===h.query.edit&&Q()}),{deep:!0}),(e,a)=>{const n=v("LoadingWheel"),s=v("v-btn"),i=v("v-icon");return u(t).user.email?u(z)?(j(),r("div",B,[b(n)])):Object.entries(u(G)||{}).length?(j(),r(g,{key:3},[b(s,{class:"home_button",onClick:u(p)},{default:m((()=>[x("Назад")])),_:1},8,["onClick"]),f("div",I,[O,f("div",N,[V.value?(j(),d(E,{key:1,onSave:u(H),form:u(M),"is-loading":u(J),title:"Редактировать",theme:u(t).currentTheme},{submit:m((e=>[b(s,{type:"submit",disabled:!e.form.valid},{default:m((()=>[x("Ok")])),_:2},1032,["disabled"])])),cancel:m((()=>[b(s,{onClick:_(U,["prevent"])},{default:m((()=>[x("Отмена")])),_:1},8,["onClick"])])),_:1},8,["onSave","form","is-loading","theme"])):(j(),r(g,{key:0},[f("div",D,[K,b(i,{class:"button",tag:"button",onClick:R},{default:m((()=>[x("mdi-pencil")])),_:1})]),b(T,{form:u(G)||u(P)},null,8,["form"])],64))])])],64)):(j(),d(S,{key:2,code:404,message:"Not Found"})):(j(),d(S,{key:0,code:403,message:"Forbidden"}))}}}),[["__scopeId","data-v-83bb886e"]]))}}}));
