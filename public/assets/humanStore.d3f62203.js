import{s as r,A as n}from"./index.0dc29be9.js";const a=r("human",{state:()=>({info:{fio:"",error:"",isLoading:!1,isEditable:!1,currentQuery:"",finded:[]},list:{page:0,total:0,limit:20,isLoading:!1,humansList:[],selectedSort:"",searchQuery:""}}),actions:{async findHuman(){var e,i;try{if(!this.info.fio)return;const s=this.info.fio.trim().split(" ");if(s.length!==3)throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041E \u0447\u0435\u0440\u0435\u0437 \u043F\u0440\u043E\u0431\u0435\u043B!");this.$patch({info:{isLoading:!0,isEditable:!1,currentQuery:this.info.fio,error:"",finded:[]}});const t=await n.findHuman(s[0],s[1],s[2]);this.info.finded=t.data.humansFormList}catch(s){this.info.error=((i=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:i.message)||s.message}finally{this.info.isLoading=!1}}},getters:{sortedHumansList(e){return[...e.list.humansList].sort((i,s)=>{var t;return(t=i[e.list.selectedSort])==null?void 0:t.localeCompare(s[e.list.selectedSort])})},sortedAndSearchedHumansList(){return[...this.sortedHumansList].filter(e=>e.fio.includes(this.list.searchQuery))}}});export{a as u};
