import{i as A,u as x,j as a}from"./index.800cd8c5.js";const{Axios:C,AxiosError:E,CanceledError:h,isCancel:S,CancelToken:p,VERSION:w,all:y,Cancel:F,isAxiosError:k,spread:N,toFormData:O,AxiosHeaders:T,formToJSON:j,mergeConfig:D}=A;function H({callback:f,alert:o=!0,errorMessage:c,successMessage:v}){const r=x(),s=a(""),t=a(""),n=a(!1),l=a(null);async function d(...m){var i,u;try{n.value=!0;const e=await f(...m);l.value=e==null?void 0:e.data,t.value=v||"Success",o&&r.setAlert("success",t.value)}catch(e){c?s.value=c:e instanceof E?s.value=(u=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:u.message:e instanceof Error?s.value=e.message:s.value="Unknown Error",o&&r.setAlert("error",s.value)}finally{n.value=!1,o&&r.showAlert(!0)}}return{error:s,success:t,isLoading:n,data:l,fetchFunc:d}}export{H as u};
