"use strict";(self["webpackChunktg_bot_client_app"]=self["webpackChunktg_bot_client_app"]||[]).push([[960,163],{4163:function(e,r,s){s.r(r),s.d(r,{default:function(){return _}});var t=s(6252),i=s(3577),n=(0,t.Uk)("На главную");function o(e,r,s,o,u,a){var l=(0,t.up)("v-button");return(0,t.wg)(),(0,t.iD)("div",{class:(0,i.C_)(e.$style.error)},[(0,t._)("div",{class:(0,i.C_)(e.$style.error_info)},[(0,t._)("div",{class:(0,i.C_)(e.$style.error_code)},(0,i.zw)(s.code),3),(0,t._)("div",{class:(0,i.C_)(e.$style.error_text)},(0,i.zw)(s.message),3),(0,t.Wm)(l,{class:(0,i.C_)(e.$style.error_button),onClick:r[0]||(r[0]=function(r){return e.$router.push("/")})},{default:(0,t.w5)((function(){return[n]})),_:1},8,["class"])],2)],2)}var u=(0,t.aZ)({__name:"TheError",props:{code:{type:[String,Number],required:!0},message:{type:String,required:!0}},setup:function(e,r){var s=r.expose;s();var t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),a={error:"TheError_error_zWRpU",error_info:"TheError_error_info_bRaoI",error_code:"TheError_error_code_p9lzC",error_text:"TheError_error_text_fLubd",error_button:"TheError_error_button_wjtdJ"},l=s(3744);const c={};c["$style"]=a;const d=(0,l.Z)(u,[["render",o],["__cssModules",c]]);var _=d},4960:function(e,r,s){s.r(r),s.d(r,{default:function(){return U}});var t=s(6252);function i(e,r,s,i,n,o){return i.store.user.email?((0,t.wg)(),(0,t.j4)(i["TheTools"],{key:1})):((0,t.wg)(),(0,t.j4)(i["TheError"],{key:0,code:403,message:"Forbidden"}))}var n=s(2625),o=s(4163),u=s(3577),a=function(e){return(0,t.dD)("data-v-fa830146"),e=e(),(0,t.Cn)(),e},l=(0,t.Uk)("На главную"),c={class:"container"},d=a((function(){return(0,t._)("h1",null,"Инструменты",-1)})),_={class:"sheets"},f=a((function(){return(0,t._)("div",{class:"sheets_title"},"Выгрузить заявки в Google Sheets",-1)})),m={class:"sheets_block"},v=a((function(){return(0,t._)("div",{class:"block_title"},"Выгрузить все",-1)})),h={class:"sheets_button"},g=(0,t.Uk)("Сформировать"),p={class:"sheets_message"},k=["href"],b={class:"sheets_block"},y=a((function(){return(0,t._)("div",{class:"block_title"},"Выгрузить по району",-1)})),w={class:"sheets_button"},T=(0,t.Uk)("Сформировать"),S={class:"sheets_message"},q=["href"];function Q(e,r,s,i,n,o){var a=(0,t.up)("v-button"),Q=(0,t.up)("v-loading-wheel"),C=(0,t.up)("v-select");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a,{class:"home_button",onClick:r[0]||(r[0]=function(r){return e.$router.push("/")})},{default:(0,t.w5)((function(){return[l]})),_:1}),(0,t._)("div",c,[d,(0,t._)("ul",_,[f,(0,t._)("li",m,[v,(0,t._)("div",h,[(0,t.Wm)(a,{onClick:r[1]||(r[1]=function(e){return i.saveFormsToSheet(i.formsQueries.all)}),disabled:i.isFormsLoading},{default:(0,t.w5)((function(){return[g]})),_:1},8,["disabled"]),i.formsQueries.all.isLoading?((0,t.wg)(),(0,t.j4)(Q,{key:0})):(0,t.kq)("",!0),(0,t._)("div",p,(0,u.zw)(i.formsQueries.all.message),1)]),i.formsQueries.all.link?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"sheets_link",target:"_blank",href:i.formsQueries.all.link},"Ссылка на выгруженные заявки",8,k)):(0,t.kq)("",!0)]),(0,t._)("li",b,[y,(0,t.Wm)(C,{modelValue:i.formsQueries.district.query,"onUpdate:modelValue":r[2]||(r[2]=function(e){return i.formsQueries.district.query=e}),style:{width:"inherit",marginTop:"10px"}},null,8,["modelValue"]),(0,t._)("div",w,[(0,t.Wm)(a,{onClick:r[3]||(r[3]=function(e){return i.saveFormsToSheet(i.formsQueries.district)}),disabled:"Район"===i.formsQueries.district.query||i.isFormsLoading},{default:(0,t.w5)((function(){return[T]})),_:1},8,["disabled"]),i.formsQueries.district.isLoading?((0,t.wg)(),(0,t.j4)(Q,{key:0})):(0,t.kq)("",!0),(0,t._)("div",S,(0,u.zw)(i.formsQueries.district.message),1)]),i.formsQueries.district.link?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"sheets_link",target:"_blank",href:i.formsQueries.district.link},"Ссылка на выгруженные заявки",8,q)):(0,t.kq)("",!0)])])])],64)}var C=s(655),j=s(2262),L=s(6442),E=(0,t.aZ)({__name:"TheTools",setup:function(e,r){var s=this,t=r.expose;t();var i=(0,j.iH)(!1),n=(0,j.qj)({all:{filter:"all",query:"all",isLoading:!1,message:"",link:""},district:{filter:"district",query:"Район",isLoading:!1,message:"",link:""}}),o=function(e){return(0,C.mG)(s,void 0,void 0,(function(){var r,s;return(0,C.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),e.isLoading=!0,i.value=!0,[4,L.Z.saveFormsToSheet(e.filter,e.query)];case 1:return r=t.sent(),e.message=r.data.message,e.link=r.data.link,[3,4];case 2:return s=t.sent(),console.log(s),e.message=s.response.data.message,setTimeout((function(){return e.message=""}),2e3),[3,4];case 3:return i.value=!1,e.isLoading=!1,setTimeout((function(){return e.message=""}),2e3),[7];case 4:return[2]}}))}))},u={isFormsLoading:i,formsQueries:n,saveFormsToSheet:o,ref:j.iH,reactive:j.qj,AssistanceService:L.Z};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),F=s(3744);const Z=(0,F.Z)(E,[["render",Q],["__scopeId","data-v-fa830146"]]);var $=Z,x=(0,t.aZ)({__name:"ToolsView",setup:function(e,r){var s=r.expose;s();var t=(0,n.o)(),i={store:t,useStore:n.o,TheError:o["default"],TheTools:$};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});const z=(0,F.Z)(x,[["render",i]]);var U=z}}]);
//# sourceMappingURL=960.ea2ab7fb.js.map