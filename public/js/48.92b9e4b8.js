"use strict";(self["webpackChunktg_bot_client_app"]=self["webpackChunktg_bot_client_app"]||[]).push([[48,163],{4163:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(6252),o=r(3577),s=(0,n.Uk)("На главную");function i(e,t,r,i,u,a){var l=(0,n.up)("v-button");return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(e.$style.error)},[(0,n._)("div",{class:(0,o.C_)(e.$style.error_info)},[(0,n._)("div",{class:(0,o.C_)(e.$style.error_code)},(0,o.zw)(r.code),3),(0,n._)("div",{class:(0,o.C_)(e.$style.error_text)},(0,o.zw)(r.message),3),(0,n.Wm)(l,{class:(0,o.C_)(e.$style.error_button),onClick:t[0]||(t[0]=function(t){return e.$router.push("/")})},{default:(0,n.w5)((function(){return[s]})),_:1},8,["class"])],2)],2)}var u=(0,n.aZ)({__name:"TheError",props:{code:{type:[String,Number],required:!0},message:{type:String,required:!0}},setup:function(e,t){var r=t.expose;r();var n={};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),a={error:"TheError_error_zWRpU",error_info:"TheError_error_info_bRaoI",error_code:"TheError_error_code_p9lzC",error_text:"TheError_error_text_fLubd",error_button:"TheError_error_button_wjtdJ"},l=r(3744);const c={};c["$style"]=a;const d=(0,l.Z)(u,[["render",i],["__cssModules",c]]);var v=d},1048:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var n=r(6252),o={key:1},s={class:"content"};function i(e,t,r,i,u,a){return i.store.isAdmin?((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(i["TheHeader"]),(0,n._)("div",s,[(0,n.Wm)(i["HumansList"])])])):((0,n.wg)(),(0,n.j4)(i["TheError"],{key:0,code:403,message:"Forbidden"}))}var u=r(8505),a=r(3577),l=r(9963),c=function(e){return(0,n.dD)("data-v-6b2ed43a"),e=e(),(0,n.Cn)(),e},d=c((function(){return(0,n._)("div",{class:"title"},"Вы уверены?",-1)})),v={class:"buttons"},_={class:"buttons_load"},m=(0,n.Uk)("Да"),f={class:"buttons_load"},p=(0,n.Uk)("Нет"),h={class:"container"},b={class:"header"},w=c((function(){return(0,n._)("div",{class:"title"},"Список",-1)})),g={key:0,class:"error"},S={class:"list_item"},y={class:"item_number"},H={class:"item_name"},k={class:"loading"},L={class:"observer"};function C(e,t,r,o,s,i){var u=(0,n.up)("v-button"),c=(0,n.up)("v-loading-wheel"),C=(0,n.up)("v-modal"),W=(0,n.up)("v-button-delete"),Z=(0,n.Q2)("intersection");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(C,{show:o.isModalVisible,onHide:o.showModal},{default:(0,n.w5)((function(){return[d,(0,n._)("div",v,[(0,n._)("div",_,[(0,n.Wm)(u,{class:"confirm",onClick:o.deleteHuman},{default:(0,n.w5)((function(){return[m]})),_:1}),o.isLoading?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"wheel"})):(0,n.kq)("",!0)]),(0,n._)("div",f,[(0,n.Wm)(u,{class:"confirm",onClick:o.showModal},{default:(0,n.w5)((function(){return[p]})),_:1})])])]})),_:1},8,["show"]),(0,n._)("div",h,[(0,n._)("div",b,[w,(0,n.Wm)(o["HumansListSelect"],{modelValue:o.selectedSort,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.selectedSort=e}),options:o.sortOptions},null,8,["modelValue","options"])]),o.listStore.error?((0,n.wg)(),(0,n.iD)("div",g,(0,a.zw)(o.listStore.error),1)):(0,n.kq)("",!0),(0,n.Wm)(l.W3,{name:"list"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.sortedHumansList,(function(e,t){return(0,n.wg)(),(0,n.iD)("div",{class:"list",key:e._id},[(0,n._)("div",S,[(0,n._)("div",y,[(0,n._)("div",null,(0,a.zw)(t+1)+".",1)]),(0,n._)("div",H,(0,a.zw)(e.fio),1),(0,n.Wm)(W,{class:"item_button",onClick:function(t){return o.showModal(t,e._id)}},null,8,["onClick"])])])})),128))]})),_:1})]),(0,n._)("div",k,[o.listStore.isLoading?((0,n.wg)(),(0,n.j4)(c,{key:0})):(0,n.kq)("",!0)]),(0,n._)("div",L,[(0,n.wy)((0,n._)("div",null,null,512),[[Z,{f:o.listStore.catchHumansList}]])])],64)}var W=r(655),Z=r(2262),D=r(3517),T=r(6442),z=["value"],V={value:"",disabled:""},j=["value"];function E(e,t,r,o,s,i){return(0,n.wg)(),(0,n.iD)("select",{class:"select",onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),value:r.modelValue},[(0,n._)("option",V,(0,a.zw)(r.title),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.options,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,a.zw)(e.name),9,j)})),128))],40,z)}var M=(0,n.aZ)({__name:"HumansListSelect",props:{modelValue:{type:String},options:{type:Array,default:function(){return[]}},title:{type:String,default:"Сортировать"}},setup:function(e,t){var r=t.expose;r();var n={};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),$=r(3744);const x=(0,$.Z)(M,[["render",E],["__scopeId","data-v-756bb34e"]]);var O=x,P=(0,n.aZ)({__name:"HumansList",setup:function(e,t){var r=this,o=t.expose;o();var s=(0,D.a)(),i=(0,Z.iH)(!1),u=(0,Z.iH)(""),a=(0,Z.iH)(!1),l=(0,Z.iH)(""),c=(0,Z.iH)([{value:"_id",name:"По умолчанию"},{value:"fio",name:"По фамилии"}]);(0,n.bv)((function(){return(0,W.mG)(r,void 0,Promise,(function(){return(0,W.Jh)(this,(function(e){return s.humansList.length||s.catchHumansList(),[2]}))}))}));var d=(0,n.Fl)((function(){return(0,W.ev)([],s.humansList,!0).sort((function(e,t){var r;return null===(r=e[l.value])||void 0===r?void 0:r.localeCompare(t[l.value])}))}));function v(e,t){i.value=!i.value,e&&t&&(u.value=t)}function _(){var e,t;return(0,W.mG)(this,void 0,Promise,(function(){var r;return(0,W.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),a.value=!0,[4,T.Z.deleteHuman(u.value)];case 1:return n.sent(),s.humansList=s.humansList.filter((function(e){return e._id!==u.value})),[3,4];case 2:return r=n.sent(),s.error=null===(t=null===(e=null===r||void 0===r?void 0:r.response)||void 0===e?void 0:e.data)||void 0===t?void 0:t.message,[3,4];case 3:return a.value=!1,v(),[7];case 4:return[2]}}))}))}var m={listStore:s,isModalVisible:i,currentId:u,isLoading:a,selectedSort:l,sortOptions:c,sortedHumansList:d,showModal:v,deleteHuman:_,onMounted:n.bv,ref:Z.iH,computed:n.Fl,useListStore:D.a,AssistanceService:T.Z,HumansListSelect:O};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}});const q=(0,$.Z)(P,[["render",C],["__scopeId","data-v-6b2ed43a"]]);var I=q,U=r(4163),A=r(2625),F=(0,n.aZ)({__name:"ListView",setup:function(e,t){var r=t.expose;r();var n=(0,A.o)(),o={store:n,TheHeader:u.Z,HumansList:I,TheError:U["default"],useStore:A.o};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});const J=(0,$.Z)(F,[["render",i],["__scopeId","data-v-77dd3a9c"]]);var Y=J}}]);
//# sourceMappingURL=48.92b9e4b8.js.map